<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thư viện Ca Lâm Sàng - Cliniprep</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <header>
      <!-- Copy Header phiên bản đã đăng nhập (tương tự mcq_quiz.html) -->
      <div class="container">
        <div class="header-content">
          <a href="index.html" class="logo-area">
            <img
              src="assets/images/avt.png"
              alt="Cliniprep Logo"
              class="logo-img"
            />
            <span class="logo-text">CLINIPREP</span>
          </a>
          <nav class="main-nav">
            <ul>
              <li><a href="index.html" class="nav-link">Trang chủ</a></li>
              <li>
                <a href="case_library.html" class="nav-link active"
                  >Case Simulation</a
                >
              </li>
              <!-- Active -->
              <li><a href="mcq_topics.html" class="nav-link">Mcq Quiz</a></li>
              <li>
                <a href="knowledge-hub.html" class="nav-link">Knowledge Hub</a>
              </li>
            </ul>
          </nav>
          <div class="user-actions">
            <button class="btn btn-user" id="userMenuButton">
              <img
                src="assets/images/default-user-avatar.png"
                alt="User Avatar"
                class="user-avatar-icon"
              />
              <span>User</span>
              <!-- JS sẽ cập nhật tên -->
              <i class="fas fa-caret-down dropdown-icon"></i>
            </button>
            <div class="dropdown-menu" id="userDropdownMenu">
              <a href="profile.html" class="dropdown-item">Hồ sơ của tôi</a>
              <a href="settings.html" class="dropdown-item">Cài đặt</a>
              <hr class="dropdown-divider" />
              <a
                href="#"
                class="dropdown-item logout-item"
                id="logoutButtonLibrary"
                >Đăng xuất</a
              >
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="page-header-section">
        <div class="container">
          <h1><i class="fas fa-briefcase-medical"></i> THƯ VIỆN CA LÂM SÀNG</h1>
          <p>Khám phá và thực hành với các tình huống lâm sàng đa dạng.</p>
        </div>
      </section>

      <section class="case-library-main-content">
        <div class="container">
          <div class="filter-controls-bar">
            <div class="search-input-group">
              <input
                type="text"
                id="searchCaseInput"
                placeholder="Tìm kiếm ca bệnh theo tên, triệu chứng..."
              />
              <button class="btn-search-icon" aria-label="Tìm kiếm">
                <i class="fas fa-search"></i>
              </button>
            </div>
            <div class="filter-dropdowns">
              <select id="filterSpecialty" aria-label="Lọc theo chuyên khoa">
                <option value="">Tất cả chuyên khoa</option>
                <!-- JS sẽ populate các chuyên khoa từ API hoặc dữ liệu cứng -->
              </select>
              <select id="filterDifficulty" aria-label="Lọc theo độ khó">
                <option value="">Tất cả độ khó</option>
                <option value="easy">Dễ</option>
                <option value="medium">Trung bình</option>
                <option value="hard">Khó</option>
              </select>
            </div>
          </div>

          <div class="case-listing-grid" id="caseListingGrid">
            <!-- Các card ca bệnh sẽ được JS chèn vào đây -->
            <div class="loading-placeholder" id="casesLoadingPlaceholder">
              <i class="fas fa-spinner fa-spin"></i> Đang tải danh sách ca
              bệnh...
            </div>
            <!-- 
                    Cấu trúc mẫu của một case card (sẽ được tạo bởi JS):
                    <div class="case-item-card">
                        <div class="case-card-header">
                            <span class="case-card-specialty"><i class="fas fa-lungs"></i> Hô hấp</span>
                            <span class="case-card-difficulty difficulty-easy"><i class="fas fa-star"></i> Dễ</span>
                        </div>
                        <div class="case-card-body">
                            <h3 class="case-card-title">Ca bệnh Hô hấp 01: Khó thở cấp</h3>
                            <p class="case-card-description">Bệnh nhân nữ, 45 tuổi, có tiền sử hen phế quản, vào viện vì khó thở tăng dần, khò khè nhiều.</p>
                        </div>
                        <div class="case-card-footer">
                            <a href="case_simulation.html?caseId=case002" class="btn btn-primary btn-sm">
                                <i class="fas fa-play"></i> Bắt đầu thực hành
                            </a>
                        </div>
                    </div>
                    -->
          </div>
          <div
            class="no-cases-found"
            id="noCasesFoundMessage"
            style="display: none"
          >
            <p>
              <i class="fas fa-exclamation-circle"></i> Không tìm thấy ca bệnh
              nào phù hợp với lựa chọn của bạn.
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <p>© 2024 Cliniprep. All rights reserved.</p>
      </div>
    </footer>

    <script src="js/script.js"></script>
    <!-- Script chung (dropdown, etc.) -->
    <script src="js/case_library_handler.js" defer></script>
  </body>
</html>
